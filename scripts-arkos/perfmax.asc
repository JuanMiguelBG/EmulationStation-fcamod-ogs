#!/bin/bash

printf "\033c" >> /dev/tty1

/usr/local/bin/es-splash_screen load_splash_ascii_before_game

#if [[ $1 == "On" ]] || [[ $1 == "standalone-bios" ]] || [[ $1 == "standalone-nobios" ]] || [[ $1 == "standalone-Rice" ]] || [[ $1 == "standalone-Glide64mk2" ]] || [[ $1 == "standalone-GlideN64" ]] || [[ $2 == "cap32" ]] || [[ $1 == "standalone-GlideN64" ]] || [[ $2 == *"carts"* ]] || [[ $1 == "retrorun" ]] || [[ $1 == "retrorun32" ]] || [[ $2 == "flycast" ]] || [[ $2 == "flycast32_rumble" ]] || [[ $2 == "flycast_xtreme" ]] || [[ $2 == "reicast_xtreme" ]] || [[ $1 == "standalone" ]] || [[ $1 == "standalone-go" ]] || [[ $2 == "yabasanshiro" ]] || [[ $2 == "yabause" ]] || [[ $2 == "mupen64plus" ]] || [[ $2 == "parallel_n64" ]] || [[ $2 == "mupen64plus_next" ]]  || [[ $2 == "pcsx_rearmed_rumble" ]] || [[ $2 == "pcsx_rearmed" ]] || [[ $2 == "duckstation" ]] || [[ "$2" == *"record"* ]] || [[ $2 == "same_cdi" ]] || [[ $2 == "opera" ]]; then
  chmod 777 /sys/devices/platform/fde60000.gpu/devfreq/fde60000.gpu/governor
  chmod 777 /sys/devices/system/cpu/cpufreq/policy0/scaling_governor
  chmod 777 /sys/devices/platform/dmc/devfreq/dmc/governor
  echo performance > /sys/devices/platform/fde60000.gpu/devfreq/fde60000.gpu/governor
  echo performance > /sys/devices/system/cpu/cpufreq/policy0/scaling_governor
  echo performance > /sys/devices/platform/dmc/devfreq/dmc/governor
#else
#  chmod 777 /sys/devices/platform/fde60000.gpu/devfreq/fde60000.gpu/governor
#  chmod 777 /sys/devices/system/cpu/cpufreq/policy0/scaling_governor
#  chmod 777 /sys/devices/platform/dmc/devfreq/dmc/governor
#  echo simple_ondemand > /sys/devices/platform/fde60000.gpu/devfreq/fde60000.gpu/governor
#  echo interactive > /sys/devices/system/cpu/cpufreq/policy0/scaling_governor
#  echo dmc_ondemand > /sys/devices/platform/dmc/devfreq/dmc/governor
#fi
